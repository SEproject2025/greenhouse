@page "/Info"
@attribute [StreamRendering(true)]
@inject IPlantService PlantService
@inject NavigationManager NavigationManager

<style>
    .plant-info-container {
    display: flex;
    height: 100vh;
    background: #f5f5f5;
}

/* Sidebar Styles */
.plant-sidebar {
    width: 300px;
    background: #eaeaea;
    padding: 10px;
    overflow-y: auto;
    border-right: 2px solid #ccc;
}

/* Custom Scrollbar */
.plant-sidebar::-webkit-scrollbar {
    width: 8px;
}
.plant-sidebar::-webkit-scrollbar-track {
    background: #ddd;
    border-radius: 10px;
}
.plant-sidebar::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

/* Sidebar Items */
.plant-item {
    display: flex;
    align-items: center;
    padding: 10px;
    cursor: pointer;
    background: #fff;
    margin-bottom: 5px;
    border-radius: 5px;
}
.plant-item:hover {
    background: #dcdcdc;
}
.plant-item.selected {
    background: #000;
    color: #fff;
}

/* Icon in Sidebar */
.plant-icon {
    width: 40px;
    height: 40px;
    margin-right: 10px;
}

/* Main Display Area */
.plant-details {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
}

/* Image & Title */
.plant-header {
    display: flex;
    align-items: center;
}
.plant-image {
    width: 100px;
    height: 100px;
    margin-right: 20px;
}

/* Attributes List */
.plant-attributes {
    margin-top: 10px;
    font-size: 1.1em;
}
.attribute {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

</style>



<div class="plant-info-container">
    <!-- Sidebar for plant selection -->
    <div class="plant-sidebar">
        @foreach (var plant in Plants)
        {
            <div class="plant-item @(SelectedPlant == plant ? "selected" : "")" @onclick="() => SelectPlant(plant)">
                <img src="@plant.Image" alt="@plant.Name" class="plant-icon" />
                <div>
                    <strong>@plant.Name</strong><br />
                    <em>@plant.ScientificName</em>
                </div>
            </div>
        }
    </div>

    <!-- Main plant display section -->
    <div class="plant-details">
        @if (SelectedPlant != null)
        {
            <div class="plant-header">
                <img src="@SelectedPlant.Image" alt="@SelectedPlant.Name" class="plant-image" />
                <h1>@SelectedPlant.Name</h1>
                <h2><em>@SelectedPlant.ScientificName</em></h2>
            </div>

            <div class="plant-attributes">
                @foreach (var attribute in SelectedPlant.Attributes)
                {
                    <div class="attribute">
                        <strong>@attribute.Key:</strong> @attribute.Value
                    </div>
                }
            </div>

            <div class="plant-description">
                @SelectedPlant.Description
            </div>
        }
    </div>
</div>

@code {
    private List<Plant> Plants = new()
    {
        new Plant { Name = "Snake Plant", ScientificName = "Sansevieria", Image = "snake-plant.png",
                    Description = "Snake plants are well-known for their resilience...",
                    Attributes = new Dictionary<string, string>
                    {
                        {"Care Level", "Low-maintenance"},
                        {"Environment", "Indoor"},
                        {"Light", "Low to bright indirect light; very adaptable."},
                        {"Water", "Water sparingly. Allow soil to dry out completely between waterings."},
                        {"Temperature", "Average indoor temperatures; tolerates a wide range."},
                        {"Growth Rate", "Slow to moderate"},
                        {"Benefits", "Known for purifying air by removing toxins."}
                    }
        },
        new Plant { Name = "Spider Plant", ScientificName = "Chlorophytum comosum", Image = "spider-plant.png", Description = "Spider plants are..." },
        new Plant { Name = "Monstera", ScientificName = "Monstera deliciosa", Image = "monstera.png", Description = "Monstera plants are..." },
        new Plant { Name = "Aloe Vera", ScientificName = "Aloe barbadensis miller", Image = "aloe-vera.png", Description = "Aloe Vera is known for..." }
    };

    private Plant SelectedPlant;

    protected override void OnInitialized()
    {
        SelectedPlant = Plants.FirstOrDefault();
    }

    private void SelectPlant(Plant plant)
    {
        SelectedPlant = plant;
    }
}
